{"ast":null,"code":"import _slicedToArray from\"C:/Users/wwwdi/Downloads/Transmedia/rutas-gateras/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import React from'react';import{Map,Marker,ZoomControl/*Overlay*/}from\"pigeon-maps\";import{maptiler}from'pigeon-maps/providers';import Menu from'./components/Menu';import Sidebar from'./components/Sidebar';import Mouse from\"./components/Mouse\";import Spinner from\"./components/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var maptilerProvider=maptiler('OeC7UjZWzAPnrhmLpPbX','basic-v2');var _useState3=useState([3.451245219418733,-76.54367205437333]),_useState4=_slicedToArray(_useState3,2),mapCenter=_useState4[0],setMapCenter=_useState4[1];var _useState5=useState(18),_useState6=_slicedToArray(_useState5,2),mapZoom=_useState6[0],setMapZoom=_useState6[1];var color=\"#99F\";var webconsume=function webconsume(api,onsucces,onfail){setLoading(true);fetch(api,{//redirect: \"follow\",\nmethod:'GET'}).then(function(response){if(response.ok)return response.json();}).then(function(data){console.log(data);if(onsucces!=null){onsucces(data);}return data;}).catch(function(error){console.log(error);if(onfail!=null){onfail(error);}return error;}).finally(function(){setLoading(false);});};var url=\"https://script.google.com/macros/s/AKfycbwMGzDDt_fhdIlXU6FHvcZtjHbIiKC3izFa54LNSma2oRSfEcn2PZ75mVyo2uXWF7NJAw/exec\";var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),gatas=_useState8[0],setGatas=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),sidedata=_useState10[0],setSidedata=_useState10[1];useEffect(function(){getGatas();},[]);var getGatas=function getGatas(){webconsume(url,function(data){setGatas(JSON.parse(data));});};var _useState11=useState([3.451245219418733,-76.54367205437333]),_useState12=_slicedToArray(_useState11,2),currentCenter=_useState12[0],setCCenter=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),coordCenter=_useState14[0],setCoorCenter=_useState14[1];var toogleCoorCenter=function toogleCoorCenter(){setCoorCenter(!coordCenter);};useEffect(function(){if(Object.keys(sidedata).length!==0){document.getElementById(\"demo\").classList.add(\"show\");}},[sidedata]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-dark bg-gradient\",style:{height:\"100hv\",width:\"100wv\"},children:[/*#__PURE__*/_jsx(Spinner,{active:loading}),/*#__PURE__*/_jsx(Mouse,{}),/*#__PURE__*/_jsx(Menu,{}),/*#__PURE__*/_jsx(Sidebar,{data:sidedata,butons:toogleCoorCenter,newCoor:currentCenter,webreport:webconsume,reload:getGatas}),/*#__PURE__*/_jsx(\"div\",{className:\"map\",style:{height:\"89.6vh\"},children:/*#__PURE__*/_jsx(Map,{provider:maptilerProvider,dprs:[1,2],defaultCenter:mapCenter,defaultZoom:mapZoom,onBoundsChanged:function onBoundsChanged(_ref){var center=_ref.center,zoom=_ref.zoom;setCCenter(center);},children:coordCenter?/*#__PURE__*/_jsx(Marker,{width:50,anchor:currentCenter,color:\"cyan\"}):gatas.map(function(gata,index){var _gata$color;return/*#__PURE__*/_jsx(Marker,{width:50,anchor:gata.coord,color:(_gata$color=gata===null||gata===void 0?void 0:gata.color)!==null&&_gata$color!==void 0?_gata$color:color,onClick:function onClick(){setCCenter(gatas[index].coord);setSidedata(gatas[index]);}},index);})})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","React","Map","Marker","ZoomControl","maptiler","Menu","Sidebar","Mouse","Spinner","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","loading","setLoading","maptilerProvider","_useState3","_useState4","mapCenter","setMapCenter","_useState5","_useState6","mapZoom","setMapZoom","color","webconsume","api","onsucces","onfail","fetch","method","then","response","ok","json","data","console","log","catch","error","finally","url","_useState7","_useState8","gatas","setGatas","_useState9","_useState10","sidedata","setSidedata","getGatas","JSON","parse","_useState11","_useState12","currentCenter","setCCenter","_useState13","_useState14","coordCenter","setCoorCenter","toogleCoorCenter","Object","keys","length","document","getElementById","classList","add","className","style","height","width","children","active","butons","newCoor","webreport","reload","provider","dprs","defaultCenter","defaultZoom","onBoundsChanged","_ref","center","zoom","anchor","map","gata","index","_gata$color","coord","onClick"],"sources":["C:/Users/wwwdi/Downloads/Transmedia/rutas-gateras/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from 'react';\nimport { Map, Marker, ZoomControl, /*Overlay*/ } from \"pigeon-maps\"\nimport { maptiler } from 'pigeon-maps/providers'\n\nimport Menu from './components/Menu';\nimport Sidebar from './components/Sidebar';\nimport Mouse from \"./components/Mouse\";\nimport Spinner from \"./components/Spinner\";\n\n\nfunction App() {\n  const [loading, setLoading] = useState(true)\n\n  const maptilerProvider = maptiler('OeC7UjZWzAPnrhmLpPbX', 'basic-v2');\n  const [mapCenter, setMapCenter] = useState([3.451245219418733, -76.54367205437333])\n  const [mapZoom, setMapZoom] = useState(18)\n\n  const color=\"#99F\";\n\n  const webconsume = (api, onsucces, onfail) => {\n    setLoading(true);\n    fetch(api, {\n      //redirect: \"follow\",\n      method: 'GET',\n    })\n    .then(response => {if (response.ok) return response.json();})\n    .then(data=>{\n      console.log(data)\n      if(onsucces!=null){onsucces(data);}\n      return data\n    }).catch(error=>{\n      console.log(error)\n      if(onfail!=null){onfail(error);}\n      return error\n    }).finally(()=>{setLoading(false);})\n  }\n  const url = \"https://script.google.com/macros/s/AKfycbwMGzDDt_fhdIlXU6FHvcZtjHbIiKC3izFa54LNSma2oRSfEcn2PZ75mVyo2uXWF7NJAw/exec\";\n  const [gatas, setGatas] = useState([])\n  const [sidedata, setSidedata] = useState({});\n  useEffect(() => {\n    getGatas();\n  }, []);\n  const getGatas = ()=>{\n    webconsume(url,\n      (data) =>{\n        setGatas(JSON.parse(data));\n      }\n    );\n  }\n\n  const [currentCenter, setCCenter] = useState([3.451245219418733, -76.54367205437333])\n  const [coordCenter, setCoorCenter] = useState(false)\n  const toogleCoorCenter = ()=>{\n    setCoorCenter(!coordCenter);\n  }\n\n  useEffect(() => {\n    if(Object.keys(sidedata).length !== 0){\n      document.getElementById(\"demo\").classList.add(\"show\");\n    }\n  }, [sidedata]);\n  \n  return (\n    <div className=\"bg-dark bg-gradient\" style={{height: \"100hv\", width: \"100wv\"}}>\n    <Spinner active={loading}/>\n    <Mouse/>\n    <Menu />\n    <Sidebar data={sidedata} butons={toogleCoorCenter} newCoor={currentCenter} webreport={webconsume} reload={getGatas}/>\n    <div className=\"map\" style={{height: \"89.6vh\"}}>\n    <Map \n    provider={maptilerProvider}\n    dprs={[1, 2]}\n    defaultCenter={mapCenter}\n    defaultZoom={mapZoom}\n    onBoundsChanged={({ center, zoom }) => {\n      setCCenter(center)\n    }}\n    >\n      {coordCenter?\n\n      <Marker\n      width={50}\n      anchor={currentCenter}\n      color={\"cyan\"}\n      />\n      \n      :\n         \n      gatas.map((gata, index)=>{\n        return(\n          <Marker key={index}\n          width={50}\n          anchor={gata.coord}\n          color={gata?.color??color}\n          onClick={()=>{setCCenter(gatas[index].coord); setSidedata(gatas[index]);}}\n          />\n        )})\n           \n    }\n\n\n{/*<Overlay anchor={[50.879, 4.6997]} offset={[120, 79]}>\n        <img src='/img/pigeon.jpg' width={240} height={158} alt='' />\n  </Overlay>*/}\n\n    </Map>\n    </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}