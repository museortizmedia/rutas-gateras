{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wwwdi\\\\Downloads\\\\Transmedia\\\\rutas-gateras\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport React from 'react';\nimport { Map, Marker, ZoomControl /*Overlay*/ } from \"pigeon-maps\";\nimport { maptiler } from 'pigeon-maps/providers';\nimport Menu from './components/Menu';\nimport Sidebar from './components/Sidebar';\nimport Mouse from \"./components/Mouse\";\nimport Spinner from \"./components/Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const maptilerProvider = maptiler('OeC7UjZWzAPnrhmLpPbX', 'basic-v2');\n  const [mapCenter, setMapCenter] = useState([3.451245219418733, -76.54367205437333]);\n  const [mapZoom, setMapZoom] = useState(18);\n  const color = \"#99F\";\n  const webconsume = (api, onsucces = null, onfail = null) => {\n    setLoading(true);\n    fetch(api, {\n      //redirect: \"follow\",\n      method: 'GET'\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Error en la solicitud.');\n      }\n      return response.json(); // Convierte la respuesta en JSON\n    }).then(data => {\n      if (onsucces == null) {\n        setLoading(false);\n        console.log(data);\n      } else {\n        onsucces(data);\n      }\n    }).catch(error => {\n      if (onerror == null) {\n        setLoading(false);\n        console.error('Error:', error);\n      } else {\n        onfail(error);\n      }\n    });\n  };\n  const url = \"https://script.google.com/macros/s/AKfycbwMGzDDt_fhdIlXU6FHvcZtjHbIiKC3izFa54LNSma2oRSfEcn2PZ75mVyo2uXWF7NJAw/exec\";\n  const [gatas, setGatas] = useState([]);\n  const [sidedata, setSidedata] = useState({});\n  useEffect(() => {\n    if (Object.keys(sidedata).length !== 0) {\n      //console.log(sidedata.nombre)\n      document.getElementById(\"demo\").classList.add(\"show\");\n    }\n  }, [sidedata]);\n  useEffect(() => {\n    webconsume(url, data => {\n      updateGata(data);\n    }, () => {});\n  }, []);\n  const [currentCenter, setCCenter] = useState([3.451245219418733, -76.54367205437333]);\n  const [coordCenter, setCoorCenter] = useState(false);\n  const toogleCoorCenter = () => {\n    setCoorCenter(!coordCenter);\n  };\n  const updateGata = data => {\n    setGatas(JSON.parse(data));\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark bg-gradient\",\n    style: {\n      height: \"100hv\",\n      width: \"100wv\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {\n      active: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Mouse, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      data: sidedata,\n      butons: toogleCoorCenter,\n      newCoor: currentCenter,\n      webreport: webconsume\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map\",\n      style: {\n        height: \"89.6vh\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Map, {\n        provider: maptilerProvider,\n        dprs: [1, 2],\n        defaultCenter: mapCenter,\n        defaultZoom: mapZoom,\n        onBoundsChanged: ({\n          center,\n          zoom\n        }) => {\n          setCCenter(center);\n        },\n        children: coordCenter ? /*#__PURE__*/_jsxDEV(Marker, {\n          width: 50,\n          anchor: currentCenter,\n          color: \"cyan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this) : gatas.map((gata, index) => {\n          var _gata$color;\n          return /*#__PURE__*/_jsxDEV(Marker, {\n            width: 50,\n            anchor: gata.coord,\n            color: (_gata$color = gata === null || gata === void 0 ? void 0 : gata.color) !== null && _gata$color !== void 0 ? _gata$color : color,\n            onClick: () => {\n              setSidedata(gatas[index]);\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 11\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GsbB4odGFqDTbkef5kqwGBY1mwQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","React","Map","Marker","ZoomControl","maptiler","Menu","Sidebar","Mouse","Spinner","jsxDEV","_jsxDEV","App","_s","loading","setLoading","maptilerProvider","mapCenter","setMapCenter","mapZoom","setMapZoom","color","webconsume","api","onsucces","onfail","fetch","method","then","response","ok","Error","json","data","console","log","catch","error","onerror","url","gatas","setGatas","sidedata","setSidedata","Object","keys","length","document","getElementById","classList","add","updateGata","currentCenter","setCCenter","coordCenter","setCoorCenter","toogleCoorCenter","JSON","parse","className","style","height","width","children","active","fileName","_jsxFileName","lineNumber","columnNumber","butons","newCoor","webreport","provider","dprs","defaultCenter","defaultZoom","onBoundsChanged","center","zoom","anchor","map","gata","index","_gata$color","coord","onClick","_c","$RefreshReg$"],"sources":["C:/Users/wwwdi/Downloads/Transmedia/rutas-gateras/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport React from 'react';\nimport { Map, Marker, ZoomControl, /*Overlay*/ } from \"pigeon-maps\"\nimport { maptiler } from 'pigeon-maps/providers'\n\nimport Menu from './components/Menu';\nimport Sidebar from './components/Sidebar';\nimport Mouse from \"./components/Mouse\";\nimport Spinner from \"./components/Spinner\";\n\n\nfunction App() {\n  const [loading, setLoading] = useState(true)\n\n  const maptilerProvider = maptiler('OeC7UjZWzAPnrhmLpPbX', 'basic-v2');\n  const [mapCenter, setMapCenter] = useState([3.451245219418733, -76.54367205437333])\n  const [mapZoom, setMapZoom] = useState(18)\n\n  const color=\"#99F\";\n  const webconsume = (api, onsucces=null, onfail=null) => {\n    setLoading(true);\n    fetch(api, {\n      //redirect: \"follow\",\n      method: 'GET',\n    })\n  .then(response => {\n    if (!response.ok) {\n      throw new Error('Error en la solicitud.');\n    }\n    return response.json(); // Convierte la respuesta en JSON\n  })\n  .then(data => {\n    if(onsucces==null){setLoading(false);console.log(data)}\n    else{onsucces(data);}\n  })\n  .catch(error => {\n    if(onerror==null){setLoading(false); console.error('Error:', error);}\n    else{onfail(error);}\n  })};\n  const url = \"https://script.google.com/macros/s/AKfycbwMGzDDt_fhdIlXU6FHvcZtjHbIiKC3izFa54LNSma2oRSfEcn2PZ75mVyo2uXWF7NJAw/exec\";\n  const [gatas, setGatas] = useState([])\n  const [sidedata, setSidedata] = useState({});\n  \n  useEffect(() => {\n    if(Object.keys(sidedata).length !== 0){\n      //console.log(sidedata.nombre)\n      document.getElementById(\"demo\").classList.add(\"show\");\n    }\n  }, [sidedata]);\n\n  useEffect(() => {\n    webconsume(url,\n      (data) =>{\n        updateGata(data);\n      },\n      () =>{});\n  }, []);\n\n  const [currentCenter, setCCenter] = useState([3.451245219418733, -76.54367205437333])\n  const [coordCenter, setCoorCenter] = useState(false)\n  const toogleCoorCenter = ()=>{\n    setCoorCenter(!coordCenter);\n  }\n  const updateGata = (data)=>{\n    setGatas(JSON.parse(data));\n    setLoading(false);\n  }\n  \n  return (\n    <div className=\"bg-dark bg-gradient\" style={{height: \"100hv\", width: \"100wv\"}}>\n    <Spinner active={loading}/>\n    <Mouse/>\n    <Menu />\n    <Sidebar data={sidedata} butons={toogleCoorCenter} newCoor={currentCenter} webreport={webconsume}/>\n    <div className=\"map\" style={{height: \"89.6vh\"}}>\n    <Map \n    provider={maptilerProvider}\n    dprs={[1, 2]}\n    defaultCenter={mapCenter}\n    defaultZoom={mapZoom}\n    onBoundsChanged={({ center, zoom }) => {\n      setCCenter(center)\n    }}\n    >\n      {coordCenter?\n\n      <Marker\n      width={50}\n      anchor={currentCenter}\n      color={\"cyan\"}\n      />\n      \n      :\n         \n      gatas.map((gata, index)=>{\n        return(\n          <Marker key={index}\n          width={50}\n          anchor={gata.coord}\n          color={gata?.color??color}\n          onClick={()=>{setSidedata(gatas[index]);}}\n          />\n        )})\n           \n    }\n\n\n{/*<Overlay anchor={[50.879, 4.6997]} offset={[120, 79]}>\n        <img src='/img/pigeon.jpg' width={240} height={158} alt='' />\n  </Overlay>*/}\n\n    </Map>\n    </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,EAAEC,MAAM,EAAEC,WAAW,CAAE,mBAAmB,aAAa;AACnE,SAASC,QAAQ,QAAQ,uBAAuB;AAEhD,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,OAAO,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG3C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMiB,gBAAgB,GAAGX,QAAQ,CAAC,sBAAsB,EAAE,UAAU,CAAC;EACrE,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,CAAC,iBAAiB,EAAE,CAAC,iBAAiB,CAAC,CAAC;EACnF,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMsB,KAAK,GAAC,MAAM;EAClB,MAAMC,UAAU,GAAGA,CAACC,GAAG,EAAEC,QAAQ,GAAC,IAAI,EAAEC,MAAM,GAAC,IAAI,KAAK;IACtDV,UAAU,CAAC,IAAI,CAAC;IAChBW,KAAK,CAACH,GAAG,EAAE;MACT;MACAI,MAAM,EAAE;IACV,CAAC,CAAC,CACHC,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;MAC3C;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,IAAI;MACZ,IAAGT,QAAQ,IAAE,IAAI,EAAC;QAACT,UAAU,CAAC,KAAK,CAAC;QAACmB,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MAAA,CAAC,MACnD;QAACT,QAAQ,CAACS,IAAI,CAAC;MAAC;IACtB,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,IAAI;MACd,IAAGC,OAAO,IAAE,IAAI,EAAC;QAACvB,UAAU,CAAC,KAAK,CAAC;QAAEmB,OAAO,CAACG,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAAC,CAAC,MACjE;QAACZ,MAAM,CAACY,KAAK,CAAC;MAAC;IACrB,CAAC,CAAC;EAAA,CAAC;EACH,MAAME,GAAG,GAAG,oHAAoH;EAChI,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC2C,QAAQ,EAAEC,WAAW,CAAC,GAAG5C,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAG4C,MAAM,CAACC,IAAI,CAACH,QAAQ,CAAC,CAACI,MAAM,KAAK,CAAC,EAAC;MACpC;MACAC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;IACvD;EACF,CAAC,EAAE,CAACR,QAAQ,CAAC,CAAC;EAEd1C,SAAS,CAAC,MAAM;IACdsB,UAAU,CAACiB,GAAG,EACXN,IAAI,IAAI;MACPkB,UAAU,CAAClB,IAAI,CAAC;IAClB,CAAC,EACD,MAAK,CAAC,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM,CAACmB,aAAa,EAAEC,UAAU,CAAC,GAAGtD,QAAQ,CAAC,CAAC,iBAAiB,EAAE,CAAC,iBAAiB,CAAC,CAAC;EACrF,MAAM,CAACuD,WAAW,EAAEC,aAAa,CAAC,GAAGxD,QAAQ,CAAC,KAAK,CAAC;EACpD,MAAMyD,gBAAgB,GAAGA,CAAA,KAAI;IAC3BD,aAAa,CAAC,CAACD,WAAW,CAAC;EAC7B,CAAC;EACD,MAAMH,UAAU,GAAIlB,IAAI,IAAG;IACzBQ,QAAQ,CAACgB,IAAI,CAACC,KAAK,CAACzB,IAAI,CAAC,CAAC;IAC1BlB,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,oBACEJ,OAAA;IAAKgD,SAAS,EAAC,qBAAqB;IAACC,KAAK,EAAE;MAACC,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC9EpD,OAAA,CAACF,OAAO;MAACuD,MAAM,EAAElD;IAAQ;MAAAmD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAC3BzD,OAAA,CAACH,KAAK;MAAAyD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACRzD,OAAA,CAACL,IAAI;MAAA2D,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACRzD,OAAA,CAACJ,OAAO;MAAC0B,IAAI,EAAES,QAAS;MAAC2B,MAAM,EAAEb,gBAAiB;MAACc,OAAO,EAAElB,aAAc;MAACmB,SAAS,EAAEjD;IAAW;MAAA2C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACnGzD,OAAA;MAAKgD,SAAS,EAAC,KAAK;MAACC,KAAK,EAAE;QAACC,MAAM,EAAE;MAAQ,CAAE;MAAAE,QAAA,eAC/CpD,OAAA,CAACT,GAAG;QACJsE,QAAQ,EAAExD,gBAAiB;QAC3ByD,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAE;QACbC,aAAa,EAAEzD,SAAU;QACzB0D,WAAW,EAAExD,OAAQ;QACrByD,eAAe,EAAEA,CAAC;UAAEC,MAAM;UAAEC;QAAK,CAAC,KAAK;UACrCzB,UAAU,CAACwB,MAAM,CAAC;QACpB,CAAE;QAAAd,QAAA,EAECT,WAAW,gBAEZ3C,OAAA,CAACR,MAAM;UACP2D,KAAK,EAAE,EAAG;UACViB,MAAM,EAAE3B,aAAc;UACtB/B,KAAK,EAAE;QAAO;UAAA4C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC,GAIF5B,KAAK,CAACwC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAG;UAAA,IAAAC,WAAA;UACvB,oBACExE,OAAA,CAACR,MAAM;YACP2D,KAAK,EAAE,EAAG;YACViB,MAAM,EAAEE,IAAI,CAACG,KAAM;YACnB/D,KAAK,GAAA8D,WAAA,GAAEF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE5D,KAAK,cAAA8D,WAAA,cAAAA,WAAA,GAAE9D,KAAM;YAC1BgE,OAAO,EAAEA,CAAA,KAAI;cAAC1C,WAAW,CAACH,KAAK,CAAC0C,KAAK,CAAC,CAAC;YAAC;UAAE,GAJ7BA,KAAK;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKjB,CAAC;QACH,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASF;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEV;AAACvD,EAAA,CAxGQD,GAAG;AAAA0E,EAAA,GAAH1E,GAAG;AA0GZ,eAAeA,GAAG;AAAC,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}